<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<AssignMessage continueOnError="false" enabled="true" name="AssignMessage.QuotaData" async="false">
  <Set>
    <Payload contentType="application/json">{
    "system_pod_name": "{system.pod.name}",
    "system_pod_uuid": "{system.uuid}",
    "apiproxy_name": "{apiproxy.name}",
    "apiproxy_revision": "{apiproxy.revision}",
    "developer_id": "{developer.id}",
    "developer_app_name": "{developer.app.name}",

    "ratelimit_QuotaPerApp_allowed_count": "{ratelimit.QuotaPerApp.allowed.count}",
    "ratelimit_QuotaPerApp_used_count": "{ratelimit.QuotaPerApp.used.count}",
    "ratelimit_QuotaPerApp_available_count": "{ratelimit.QuotaPerApp.available.count}",
    "ratelimit_QuotaPerApp_exceed_count": "{ratelimit.QuotaPerApp.exceed.count}",
    "ratelimit_QuotaPerApp_total_exceed_count": "{ratelimit.QuotaPerApp.total.exceed.count}",
    "ratelimit_QuotaPerApp_expiry_time": "{ratelimit.QuotaPerApp.expiry.time}",
    "ratelimit_QuotaPerApp_identifier": "{ratelimit.QuotaPerApp.identifier}",
    "ratelimit_QuotaPerApp_failed": "{ratelimit.QuotaPerApp.failed}",
    "ratelimit_QuotaPerApp_class_allowed_count": "{ratelimit.QuotaPerApp.class.allowed.count}",
    "ratelimit_QuotaPerApp_class_used_count": "{ratelimit.QuotaPerApp.class.used.count}",
    "ratelimit_QuotaPerApp_class_available_count": "{ratelimit.QuotaPerApp.class.available.count}",
    "ratelimit_QuotaPerApp_class_exceed_count": "{ratelimit.QuotaPerApp.class.exceed.count}",
    "ratelimit_QuotaPerApp_class_total_exceed_count": "{ratelimit.QuotaPerApp.class.total.exceed.count}",
    "app_quota_limit": "{app_quota_limit}",
    "app_quota_interval": "{app_quota_interval}",
    "app_quota_timeunit": "{app_quota_timeunit}",
    "app_quota_disabled": "{app_quota_disabled}",

    "ratelimit_QuotaPerProxy_allowed_count": "{ratelimit.QuotaPerProxy.allowed.count}",
    "ratelimit_QuotaPerProxy_used_count": "{ratelimit.QuotaPerProxy.used.count}",
    "ratelimit_QuotaPerProxy_available_count": "{ratelimit.QuotaPerProxy.available.count}",
    "ratelimit_QuotaPerProxy_exceed_count": "{ratelimit.QuotaPerProxy.exceed.count}",
    "ratelimit_QuotaPerProxy_total_exceed_count": "{ratelimit.QuotaPerProxy.total.exceed.count}",
    "ratelimit_QuotaPerProxy_expiry_time": "{ratelimit.QuotaPerProxy.expiry.time}",
    "ratelimit_QuotaPerProxy_identifier": "{ratelimit.QuotaPerProxy.identifier}",
    "ratelimit_QuotaPerProxy_failed": "{ratelimit.QuotaPerProxy.failed}",
    "ratelimit_QuotaPerProxy_class_allowed_count": "{ratelimit.QuotaPerProxy.class.allowed.count}",
    "ratelimit_QuotaPerProxy_class_used_count": "{ratelimit.QuotaPerProxy.class.used.count}",
    "ratelimit_QuotaPerProxy_class_available_count": "{ratelimit.QuotaPerProxy.class.available.count}",
    "ratelimit_QuotaPerProxy_class_exceed_count": "{ratelimit.QuotaPerProxy.class.exceed.count}",
    "ratelimit_QuotaPerProxy_class_total_exceed_count": "{ratelimit.QuotaPerProxy.class.total.exceed.count}",
    "proxy_quota_disabled": "{proxy_quota_disabled}",
    "proxy_quota_limit": "{proxy_quota_limit}",
    "proxy_quota_interval": "{proxy_quota_interval}",
    "proxy_quota_timeunit": "{proxy_quota_timeunit}"
}</Payload>
  </Set>
  <AssignTo createNew="false" transport="http" type="request"/>
  <IgnoreUnresolvedVariables>true</IgnoreUnresolvedVariables>
</AssignMessage>
