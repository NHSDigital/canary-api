<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<AssignMessage continueOnError="false" enabled="true" name="AssignMessage.QuotaData" async="false">
  <Set>
    <Payload contentType="application/json">{
    "system_pod_name": "{system.pod.name}",
    "system_pod_uuid": "{system.uuid}",
    "apiproxy_name": "{apiproxy.name}",
    "apiproxy_revision": "{apiproxy.revision}",
    "developer_id": "{developer.id}",
    "developer_app_name": "{developer.app.name}",

    "ratelimit_QuotaPerApp_allowed_count": "{ratelimit.QuotaPerApp.allowed.count}",
    "ratelimit_QuotaPerApp_used_count": "{ratelimit.QuotaPerApp.used.count}",
    "ratelimit_QuotaPerApp_available_count": "{ratelimit.QuotaPerApp.available.count}",
    "ratelimit_QuotaPerApp_exceed_count": "{ratelimit.QuotaPerApp.exceed.count}",
    "ratelimit_QuotaPerApp_total_exceed_count": "{ratelimit.QuotaPerApp.total.exceed.count}",
    "ratelimit_QuotaPerApp_expiry_time": "{ratelimit.QuotaPerApp.expiry.time}",
    "ratelimit_QuotaPerApp_identifier": "{ratelimit.QuotaPerApp.identifier}",
    "ratelimit_QuotaPerApp_failed": "{ratelimit.QuotaPerApp.failed}",
    "ratelimit_SpikeArrestPerApp_failed": "{ratelimit.SpikeArrestPerApp.failed}",
    "ratelimit_SpikeArrestPerApp_expiry_time": "{ratelimit.SpikeArrestPerApp.expiry.time}",
    "ratelimit_SpikeArrestPerApp_used_count": "{ratelimit.SpikeArrestPerApp.used.count}",
    "ratelimit_SpikeArrestPerApp_identifier": "{ratelimit.SpikeArrestPerApp.identifier}",
    "ratelimit_SpikeArrestPerApp_failed": "{ratelimit.SpikeArrestPerApp.failed}",
    "ratelimit_SpikeArrestPerApp_exceed_count": "{ratelimit.SpikeArrestPerApp.exceed.count}",
    "ratelimit_SpikeArrestPerApp_allowed_count": "{ratelimit.SpikeArrestPerApp.allowed.count}",
    "ratelimit_SpikeArrestPerApp_available_count": "{ratelimit.SpikeArrestPerApp.available.count}",
    "ratelimit_SpikeArrestPerApp_total_exceed_count": "{ratelimit.SpikeArrestPerApp.total.exceed.count}",
    "ratelimit_SpikeArrestPerApp_fault_cause": "{ratelimit.SpikeArrestPerApp.fault.cause}",
    "ratelimit_SpikeArrestPerApp_fault_name": "{ratelimit.SpikeArrestPerApp.fault.name}",
    "app_quota_limit": "{app_quota_limit}",
    "app_quota_interval": "{app_quota_interval}",
    "app_quota_timeunit": "{app_quota_timeunit}",
    "app_quota_enabled": "{app_quota_enabled}",
    "app_spikeArrest_enabled": "{app_spikeArrest_enabled}",
    "app_spikeArrest_ratelimit": "{app_spikeArrest_ratelimit}",

    "ratelimit_QuotaPerProxy_allowed_count": "{ratelimit.QuotaPerProxy.allowed.count}",
    "ratelimit_QuotaPerProxy_used_count": "{ratelimit.QuotaPerProxy.used.count}",
    "ratelimit_QuotaPerProxy_available_count": "{ratelimit.QuotaPerProxy.available.count}",
    "ratelimit_QuotaPerProxy_exceed_count": "{ratelimit.QuotaPerProxy.exceed.count}",
    "ratelimit_QuotaPerProxy_total_exceed_count": "{ratelimit.QuotaPerProxy.total.exceed.count}",
    "ratelimit_QuotaPerProxy_expiry_time": "{ratelimit.QuotaPerProxy.expiry.time}",
    "ratelimit_QuotaPerProxy_identifier": "{ratelimit.QuotaPerProxy.identifier}",
    "ratelimit_QuotaPerProxy_failed": "{ratelimit.QuotaPerProxy.failed}",
    "ratelimit_SpikeArrestPerProxy_failed": "{ratelimit.SpikeArrestPerProxy.failed}",
    "ratelimit_SpikeArrestPerProxy_expiry_time": "{ratelimit.SpikeArrestPerProxy.expiry.time}",
    "ratelimit_SpikeArrestPerProxy_used_count": "{ratelimit.SpikeArrestPerProxy.used.count}",
    "ratelimit_SpikeArrestPerProxy_identifier": "{ratelimit.SpikeArrestPerProxy.identifier}",
    "ratelimit_SpikeArrestPerProxy_failed": "{ratelimit.SpikeArrestPerProxy.failed}",
    "ratelimit_SpikeArrestPerProxy_exceed_count": "{ratelimit.SpikeArrestPerProxy.exceed.count}",
    "ratelimit_SpikeArrestPerProxy_allowed_count": "{ratelimit.SpikeArrestPerProxy.allowed.count}",
    "ratelimit_SpikeArrestPerProxy_available_count": "{ratelimit.SpikeArrestPerProxy.available.count}",
    "ratelimit_SpikeArrestPerProxy_total_exceed_count": "{ratelimit.SpikeArrestPerProxy.total.exceed.count}",
    "ratelimit_SpikeArrestPerProxy_fault_cause": "{ratelimit.SpikeArrestPerProxy.fault.cause}",
    "ratelimit_SpikeArrestPerProxy_fault_name": "{ratelimit.SpikeArrestPerProxy.fault.name}",

    "proxy_quota_enabled": "{proxy_quota_enabled}",
    "proxy_quota_limit": "{proxy_quota_limit}",
    "proxy_quota_interval": "{proxy_quota_interval}",
    "proxy_quota_timeunit": "{proxy_quota_timeunit}",
    "proxy_spikeArrest_enabled": "{proxy_spikeArrest_enabled}",
    "proxy_spikeArrest_ratelimit": "{proxy_spikeArrest_ratelimit}"
}</Payload>
  </Set>
  <AssignTo createNew="false" transport="http" type="request"/>
  <IgnoreUnresolvedVariables>true</IgnoreUnresolvedVariables>
</AssignMessage>
